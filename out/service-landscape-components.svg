<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="910px" preserveAspectRatio="none" style="width:1083px;height:910px;" version="1.1" viewBox="0 0 1083 910" width="1083px" zoomAndPan="magnify"><defs><filter height="300%" id="f1vjl6k4i3hrbq" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="158" x="468.5" y="16.708">Service landscape</text><!--cluster Management--><polygon fill="#FFFFFF" filter="url(#f1vjl6k4i3hrbq)" points="173,136.9531,280,136.9531,287,159.25,313,159.25,313,245.9531,173,245.9531,173,136.9531" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="173" x2="287" y1="159.25" y2="159.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="101" x="177" y="151.9482">Management</text><!--cluster Monitoring--><polygon fill="#FFC0CB" filter="url(#f1vjl6k4i3hrbq)" points="22,269.9531,112,269.9531,119,292.25,507,292.25,507,461.9531,22,461.9531,22,269.9531" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="22" x2="119" y1="292.25" y2="292.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="26" y="284.9482">Monitoring</text><!--cluster Service--><polygon fill="#ADD8E6" filter="url(#f1vjl6k4i3hrbq)" points="55,485.9531,120,485.9531,127,508.25,1061,508.25,1061,639.9531,55,639.9531,55,485.9531" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="55" x2="127" y1="508.25" y2="508.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="59" y="500.9482">Service</text><!--cluster Service 1--><polygon fill="#FFFFFF" filter="url(#f1vjl6k4i3hrbq)" points="818,528.9531,898,528.9531,905,551.25,1037,551.25,1037,615.9531,818,615.9531,818,528.9531" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="818" x2="905" y1="551.25" y2="551.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="822" y="543.9482">Service 1</text><!--cluster Service 2--><polygon fill="#FFFFFF" filter="url(#f1vjl6k4i3hrbq)" points="575,528.9531,655,528.9531,662,551.25,794,551.25,794,615.9531,575,615.9531,575,528.9531" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="575" x2="662" y1="551.25" y2="551.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="579" y="543.9482">Service 2</text><!--cluster AAA--><polygon fill="#FFFFFF" filter="url(#f1vjl6k4i3hrbq)" points="270,528.9531,309,528.9531,316,551.25,551,551.25,551,615.9531,270,615.9531,270,528.9531" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="270" x2="316" y1="551.25" y2="551.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="274" y="543.9482">AAA</text><!--cluster Access--><polygon fill="#FFFFFF" filter="url(#f1vjl6k4i3hrbq)" points="431,663.9531,494,663.9531,501,686.25,529,686.25,529,772.9531,431,772.9531,431,663.9531" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="431" x2="501" y1="686.25" y2="686.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57" x="435" y="678.9482">Access</text><!--entity Pane--><ellipse cx="243" cy="200.9531" fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="197" y="230.9482">Pane of glass</text><!--entity Logs--><rect fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="38.5" y="409.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="33.5" y="414.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="33.5" y="436.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="48.5" y="432.9482">Logs (ES)</text><!--entity LogsStorage--><path d="M38.5,314.9531 C38.5,304.9531 92,304.9531 92,304.9531 C92,304.9531 145.5,304.9531 145.5,314.9531 L145.5,340.25 C145.5,350.25 92,350.25 92,350.25 C92,350.25 38.5,350.25 38.5,340.25 L38.5,314.9531 " fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M38.5,314.9531 C38.5,324.9531 92,324.9531 92,324.9531 C92,324.9531 145.5,324.9531 145.5,314.9531 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="48.5" y="341.9482">LogsStorage</text><!--entity Metrics--><rect fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="158.5" y="409.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="153.5" y="414.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="153.5" y="436.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="168.5" y="432.9482">Metrics (Prometheus)</text><!--entity MetricsStorage--><path d="M181,314.9531 C181,304.9531 243,304.9531 243,304.9531 C243,304.9531 305,304.9531 305,314.9531 L305,340.25 C305,350.25 243,350.25 243,350.25 C243,350.25 181,350.25 181,340.25 L181,314.9531 " fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M181,314.9531 C181,324.9531 243,324.9531 243,324.9531 C243,324.9531 305,324.9531 305,314.9531 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="191" y="341.9482">MetricsStorage</text><!--entity Tracing--><rect fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="363" y="409.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="358" y="414.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="358" y="436.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="373" y="432.9482">Tracing (Jaeger)</text><!--entity TracingStorage--><path d="M352.5,314.9531 C352.5,304.9531 415,304.9531 415,304.9531 C415,304.9531 477.5,304.9531 477.5,314.9531 L477.5,340.25 C477.5,350.25 415,350.25 415,350.25 C415,350.25 352.5,350.25 352.5,340.25 L352.5,314.9531 " fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M352.5,314.9531 C352.5,324.9531 415,324.9531 415,324.9531 C415,324.9531 477.5,324.9531 477.5,314.9531 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="362.5" y="341.9482">TracingStorage</text><!--entity ServiceLogging--><rect fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="70.5" y="563.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="65.5" y="568.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="65.5" y="590.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="80.5" y="586.9482">Logging</text><!--entity ServiceMetrics--><rect fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="181" y="563.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="176" y="568.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="176" y="590.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="191" y="586.9482">Metrics</text><!--entity SVC1--><rect fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="973" y="563.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="968" y="568.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="968" y="590.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="983" y="586.9482">SVC</text><!--entity PolicyAgent1--><rect fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="834" y="563.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="829" y="568.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="829" y="590.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="844" y="586.9482">Policy Agent</text><!--entity SVC2--><rect fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="730" y="563.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="725" y="568.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="725" y="590.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="740" y="586.9482">SVC</text><!--entity PolicyAgent2--><rect fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="591" y="563.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="586" y="568.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="586" y="590.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="601" y="586.9482">Policy Agent</text><!--entity TokenIssuer--><rect fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="425" y="563.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="420" y="568.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="420" y="590.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="435" y="586.9482">Token issuer</text><!--entity PolicyAgentAAA--><rect fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="286" y="563.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="281" y="568.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="281" y="590.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="296" y="586.9482">Policy Agent</text><!--entity Ingress--><ellipse cx="480" cy="727.9531" fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="454.5" y="757.9482">Ingress</text><!--entity Admin--><ellipse cx="243" cy="38.9531" fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M243,46.9531 L243,73.9531 M230,54.9531 L256,54.9531 M243,73.9531 L230,88.9531 M243,73.9531 L256,88.9531 " fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="221.5" y="108.9482">Admin</text><!--entity User--><ellipse cx="480" cy="826.9531" fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M480,834.9531 L480,861.9531 M467,842.9531 L493,842.9531 M480,861.9531 L467,876.9531 M480,861.9531 L493,876.9531 " fill="#FEFECE" filter="url(#f1vjl6k4i3hrbq)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="464" y="896.9482">User</text><!--link LogsStorage to Logs--><path d="M88.9768,355.5251 C87.0436,372.8361 84.5943,394.7671 82.9231,409.7321 " fill="none" id="LogsStorage-Logs" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="89.5587,350.3131,84.5832,358.8128,89.003,355.2821,92.5337,359.7019,89.5587,350.3131" style="stroke: #A80036; stroke-width: 1.0;"/><!--link MetricsStorage to Metrics--><path d="M243,355.5251 C243,372.8361 243,394.7671 243,409.7321 " fill="none" id="MetricsStorage-Metrics" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="243,350.3131,239,359.3131,243,355.3131,247,359.3131,243,350.3131" style="stroke: #A80036; stroke-width: 1.0;"/><!--link TracingStorage to Tracing--><path d="M418.298,355.5251 C420.407,372.8361 423.079,394.7671 424.902,409.7321 " fill="none" id="TracingStorage-Tracing" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="417.663,350.3131,414.7801,359.7306,418.2673,355.2765,422.7215,358.7637,417.663,350.3131" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Admin to Pane--><path d="M243,112.1111 C243,137.4781 243,168.5431 243,186.1101 " fill="none" id="Admin-Pane" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="243,191.5221,247,182.5221,243,186.5221,239,182.5221,243,191.5221" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Pane to LogsStorage--><path d="M233.911,208.3451 C218.846,219.0321 187.895,241.3861 163,261.9531 C147.991,274.3531 131.883,288.8791 118.811,301.0031 " fill="none" id="Pane-LogsStorage" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="114.856,304.6831,124.1696,301.4805,118.5164,301.277,118.7199,295.6238,114.856,304.6831" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Pane to MetricsStorage--><path d="M243,210.1221 C243,227.9461 243,271.0071 243,299.4411 " fill="none" id="Pane-MetricsStorage" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="243,304.5711,247,295.5711,243,299.5711,239,295.5711,243,304.5711" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Pane to TracingStorage--><path d="M252.247,208.6471 C276.08,225.8981 340.544,272.5591 380.822,301.7141 " fill="none" id="Pane-TracingStorage" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="385.126,304.8291,380.1827,296.3107,381.0763,301.8965,375.4905,302.7902,385.126,304.8291" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Ingress to User--><path d="M480,742.3701 C480,759.8921 480,791.3451 480,816.9465 " fill="none" id="Ingress-User" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="480,736.9911,476,745.9911,480,741.9911,484,745.9911,480,736.9911" style="stroke: #A80036; stroke-width: 1.0;"/><!--link TokenIssuer to Ingress--><path d="M480,605.4371 C480,638.1491 480,697.3091 480,718.8391 " fill="none" id="TokenIssuer-Ingress" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="480,600.0371,476,609.0371,480,605.0371,484,609.0371,480,600.0371" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Logs to ServiceLogging--><path d="M84.9414,451.1411 C90.3617,481.6561 100.0035,535.9361 104.9249,563.6421 " fill="none" id="Logs-ServiceLogging" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="84.0448,446.0941,81.6802,455.6549,84.9191,451.0171,89.5569,454.256,84.0448,446.0941" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Metrics to ServiceMetrics--><path d="M239.059,451.1411 C233.638,481.6561 223.996,535.9361 219.075,563.6421 " fill="none" id="Metrics-ServiceMetrics" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="239.955,446.0941,234.4429,454.256,239.0807,451.0171,242.3196,455.6549,239.955,446.0941" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
title Service landscape

actor Admin

package "Management" {
  interface "Pane of glass" as Pane
}

package "Monitoring" #Pink {
  component "Logs (ES)" as Logs
  database LogsStorage
  component "Metrics (Prometheus)" as Metrics
  database MetricsStorage
  component "Tracing (Jaeger)" as Tracing
  database TracingStorage
}

package "Service" #LightBlue {
  package "Service 1" #White {
    component "SVC" as SVC1
    component "Policy Agent" as PolicyAgent1
  }

  package "Service 2" #White {
    component "SVC" as SVC2
    component "Policy Agent" as PolicyAgent2
  }

  package "AAA" #White {
    component "Token issuer" as TokenIssuer
    component "Policy Agent" as PolicyAgentAAA
  }

  component "Logging" as ServiceLogging
  component "Metrics" as ServiceMetrics
}

package "Access" {
  interface Ingress
}

actor User

Logs -u-> LogsStorage
Metrics -u-> MetricsStorage
Tracing -u-> TracingStorage

Admin -d-> Pane

Pane -d-> LogsStorage
Pane -d-> MetricsStorage
Pane -d-> TracingStorage


User -u-> Ingress
Ingress -u-> TokenIssuer

ServiceLogging -u-> Logs

ServiceMetrics -u-> Metrics


@enduml

PlantUML version 1.2017.19(Sun Nov 12 22:46:22 AEDT 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_191-b12
Operating System: Linux
OS Version: 4.4.0-137-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>