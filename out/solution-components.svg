<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="431px" preserveAspectRatio="none" style="width:678px;height:431px;" version="1.1" viewBox="0 0 678 431" width="678px" zoomAndPan="magnify"><defs><filter height="300%" id="fvuxeln2gq973" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="92" x="299" y="16.708">Pod config</text><!--cluster Network--><polygon fill="#FFC0CB" filter="url(#fvuxeln2gq973)" points="296,44.9531,369,44.9531,376,67.25,595,67.25,595,131.9531,296,131.9531,296,44.9531" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="296" x2="376" y1="67.25" y2="67.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="300" y="59.9482">Network</text><!--cluster Storage--><polygon fill="#ADD8E6" filter="url(#fvuxeln2gq973)" points="250,332.9531,318,332.9531,325,355.25,505,355.25,505,419.9531,250,419.9531,250,332.9531" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="250" x2="325" y1="355.25" y2="355.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="254" y="347.9482">Storage</text><!--cluster Compute--><polygon fill="#FFA07A" filter="url(#fvuxeln2gq973)" points="22,196.9531,99,196.9531,106,219.25,156,219.25,156,283.9531,22,283.9531,22,196.9531" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="22" x2="106" y1="219.25" y2="219.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="26" y="211.9482">Compute</text><!--cluster Config--><polygon fill="#90EE90" filter="url(#fvuxeln2gq973)" points="558,196.9531,615,196.9531,622,219.25,656,219.25,656,283.9531,558,283.9531,558,196.9531" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="558" x2="622" y1="219.25" y2="219.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="562" y="211.9482">Config</text><!--cluster Pod--><rect fill="#FFFFFF" filter="url(#fvuxeln2gq973)" height="103" style="stroke: #000000; stroke-width: 2.0;" width="338" x="188" y="188.9531"/><rect fill="#FFFFFF" height="10" style="stroke: #000000; stroke-width: 2.0;" width="15" x="506" y="193.9531"/><rect fill="#FFFFFF" height="2" style="stroke: #000000; stroke-width: 2.0;" width="4" x="504" y="195.9531"/><rect fill="#FFFFFF" height="2" style="stroke: #000000; stroke-width: 2.0;" width="4" x="504" y="199.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="93" x="310.5" y="214.9482">Pod logging</text><!--entity tcp8443--><rect fill="#FEFECE" filter="url(#fvuxeln2gq973)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="312.5" y="79.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="307.5" y="84.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="307.5" y="106.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="322.5" y="102.9482">out: TCP/8443</text><!--entity tcp2020--><rect fill="#FEFECE" filter="url(#fvuxeln2gq973)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="469" y="79.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="464" y="84.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="464" y="106.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="479" y="102.9482">in: TCP/2020</text><!--entity pvc1--><rect fill="#FEFECE" filter="url(#fvuxeln2gq973)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="387" y="367.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="382" y="372.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="382" y="394.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="397" y="390.9482">shared-logs</text><!--entity pvc2--><rect fill="#FEFECE" filter="url(#fvuxeln2gq973)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="266" y="367.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="261" y="372.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="261" y="394.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="276" y="390.9482">user-data</text><!--entity controller--><rect fill="#FEFECE" filter="url(#fvuxeln2gq973)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="38" y="231.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="33" y="236.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="33" y="258.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="48" y="254.9482">DaemonSet</text><!--entity secret1--><rect fill="#FEFECE" filter="url(#fvuxeln2gq973)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="574.5" y="231.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="569.5" y="236.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="569.5" y="258.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="584.5" y="254.9482">Secret</text><!--entity SplunkUF--><rect fill="#FEFECE" filter="url(#fvuxeln2gq973)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="67" x="347.5" y="231.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="342.5" y="236.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="342.5" y="258.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="357.5" y="254.9482">Splunk</text><!--entity fluentbit--><rect fill="#FEFECE" filter="url(#fvuxeln2gq973)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="231.5" y="231.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="226.5" y="236.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="226.5" y="258.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="241.5" y="254.9482">fluent-bit</text><!--entity mtail--><rect fill="#FEFECE" filter="url(#fvuxeln2gq973)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="52" x="450" y="231.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="445" y="236.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="445" y="258.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="460" y="254.9482">mtail</text><!--link SplunkUF to pvc1--><path d="M388.335,268.1971 C398.639,292.4191 417.397,336.5178 428.678,363.0371 " fill="none" id="SplunkUF-pvc1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="430.693,367.7755,430.8502,357.9279,428.7355,363.1746,423.4888,361.06,430.693,367.7755" style="stroke: #A80036; stroke-width: 1.0;"/><!--link SplunkUF to pvc2--><path d="M371.735,268.1971 C358.666,292.5191 334.828,336.8841 320.599,363.3663 " fill="none" id="SplunkUF-pvc2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="318.23,367.7755,326.0135,361.7409,320.5966,363.3711,318.9664,357.9542,318.23,367.7755" style="stroke: #A80036; stroke-width: 1.0;"/><!--link fluentbit to pvc2--><path d="M276.761,268.1971 C283.422,292.3181 295.525,336.1522 302.857,362.706 " fill="none" id="fluentbit-pvc2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="304.257,367.7755,305.7174,358.0355,302.9262,362.9559,298.0059,360.1648,304.257,367.7755" style="stroke: #A80036; stroke-width: 1.0;"/><!--link mtail to pvc1--><path d="M471.11,268.1971 C464.269,292.3181 451.839,336.1522 444.309,362.706 " fill="none" id="mtail-pvc1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="442.871,367.7755,449.1748,360.2084,444.2352,362.9652,441.4784,358.0256,442.871,367.7755" style="stroke: #A80036; stroke-width: 1.0;"/><!--link tcp8443 to SplunkUF--><path d="M374.184,121.1591 C375.795,151.3561 378.641,204.7231 380.093,231.9471 " fill="none" id="tcp8443-SplunkUF" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="373.918,116.1601,370.4019,125.36,374.1837,121.1531,378.3906,124.9348,373.918,116.1601" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="378" y="161.02">https/Upstream</text><!--link tcp2020 to fluentbit--><path d="M500.259,116.0081 C486.557,124.8681 468.598,134.8791 451,139.9531 C433.79,144.9151 303.441,136.1151 290,147.9531 C268.129,167.2141 266.863,203.1151 268.797,226.5151 " fill="none" id="tcp2020-fluentbit" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="269.283,231.5971,272.4061,222.2566,268.806,226.6199,264.4426,223.0198,269.283,231.5971" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="291" y="161.02">http/Metrics</text><!--link tcp2020 to mtail--><path d="M518.494,116.1601 C509.741,143.5121 492.662,196.8851 483.035,226.9691 " fill="none" id="tcp2020-mtail" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="481.442,231.9471,487.9949,224.5946,482.966,227.1851,480.3756,222.1562,481.442,231.9471" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="508" y="161.02">http/Metrics</text><!--link controller to Pod--><path d="M140.41,249.9531 C149.6025,249.9531 158.7953,249.9531 167.988,249.9531 C172.5844,249.9531 177.1808,249.9531 181.7771,249.9531 C182.9262,249.9531 184.0753,249.9531 185.2243,249.9531 C185.7989,249.9531 186.3734,249.9531 186.948,249.9531 C187.2352,249.9531 187.5225,249.9531 187.8098,249.9531 " fill="none" id="controller-Pod" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="187.8098,249.9531,178.8098,245.9531,182.8098,249.9531,178.8098,253.9531,187.8098,249.9531" style="stroke: #A80036; stroke-width: 1.0;"/><!--link fluentbit to secret1--><path d="M281.909,227.3251 C293.641,203.9281 315.686,169.0861 347.5,156.4531 C379.1,143.9051 468.682,144.4681 500.5,156.4531 C540.333,171.4571 574.966,208.8821 593.236,231.5721 " fill="none" id="fluentbit-secret1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="279.701,231.8421,287.2489,225.5153,281.8981,227.3507,280.0627,221.9999,279.701,231.8421" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
title Pod config

package "Network" #Pink {
  component "out: TCP/8443" as tcp8443
  component "in: TCP/2020" as tcp2020
}

package "Storage" #LightBlue {
  component "shared-logs" as pvc1
  component "user-data" as pvc2
}

package "Compute" #LightSalmon {
  component "DaemonSet" as controller
}

package "Config" #LightGreen {
  component "Secret" as secret1
}

component "Pod logging" as Pod {
  component "Splunk" as SplunkUF
  component "fluent-bit" as fluentbit
  component "mtail" as mtail
}

SplunkUF -d-> pvc1
SplunkUF -d-> pvc2
fluentbit -d-> pvc2
mtail -d-> pvc1

SplunkUF -u-> tcp8443: https/Upstream
tcp2020 -d-> fluentbit : http/Metrics
tcp2020 -d-> mtail : http/Metrics

controller -r-> Pod

secret1 -l-> fluentbit

@enduml

PlantUML version 1.2017.19(Sun Nov 12 22:46:22 AEDT 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_191-b12
Operating System: Linux
OS Version: 4.4.0-137-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>